"use strict";(globalThis.webpackChunk_amzn_lambda_console_webapp_webapp=globalThis.webpackChunk_amzn_lambda_console_webapp_webapp||[]).push([["internalvendors"],{47254:(e,t,n)=>{n.d(t,{Ds:()=>r,Vj:()=>i,dM:()=>s,kg:()=>o});const r=(e,t)=>{let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout((()=>e(...r)),t)}};const a=new Set([ArrayBuffer.name,Date.name,Uint8Array.name,"Uint8ArrayBlobAdapter","Buffer"]),o=(e,t=(e=>e),n=(e=>e))=>{const r=(e,o)=>Array.isArray(e)?e.map((e=>r(e))):(e=>null!==e&&"object"==typeof e&&!a.has(e?.constructor?.name))(e)?Object.entries(e).reduce(((e,[n,a])=>({...e,[t(n,o)]:r(a,n)})),{}):n(e,o);return r(e)},i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),s=e=>"[object Function]"===Object.prototype.toString.call(e)},2227:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_BROKER_PROPERTY_NAME=void 0,t.TELEMETRY_BROKER_PROPERTY_NAME="_internal_tb_telemetry_broker"},15785:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetaDataProvider=t.ScheduledEventTracker=t.BrowserCredentials=void 0;var r=n(64366);Object.defineProperty(t,"BrowserCredentials",{enumerable:!0,get:function(){return r.BrowserCredentials}});var a=n(87932);Object.defineProperty(t,"ScheduledEventTracker",{enumerable:!0,get:function(){return a.ScheduledEventTracker}});var o=n(35779);Object.defineProperty(t,"MetaDataProvider",{enumerable:!0,get:function(){return o.MetaDataProvider}})},64366:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCredentials=void 0;var i,s=n(47470),u=n(28510),c=n(88402),l=n(45869),d=n(87932),f=function(){function e(e,t,n,r,a){var o=this;this.isLoggedOut=!1,this.loggedOutMessage="User Logged Out",this.dataParser=a,this.credentialsConfig=e,this.eventTracker=n,this.httpClient=t,this.cookieObserver=r,this.addLogoutListener((function(){o.isLoggedOut=!0}))}return e.getInstance=function(){if(!this.browserCredentialsInstance){var t=l.DataParser.getInstance(),n=d.ScheduledEventTracker.getInstance(),r=t.getCredentialsConfig(),a=new s.HttpClient;this.browserCredentialsInstance=new e(r,a,n,new u.CookieObserver(t.getLogoutDetectionCookieName()),t)}return this.browserCredentialsInstance},e.prototype.getCredentials=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,a;return o(this,(function(o){switch(o.label){case 0:if(this.isLoggedOut)throw new c.RefreshCredentialError(this.loggedOutMessage);if((null==i?void 0:i.expiration)&&new Date(i.expiration).getTime()-Date.now()>3e5)return[2,i];e={url:this.credentialsConfig.browserCredsFullPath,method:"POST",headers:{"x-csrf-token":this.credentialsConfig.csrfToken},timeout:5e3,timeoutIncreasePerRetry:5e3,maxRetries:4},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.httpClient.call(e)];case 2:return t=o.sent(),[3,4];case 3:throw n=o.sent(),this.emitClientErrorEvent(n),new c.RefreshCredentialError("Fail to request credentials",n);case 4:if(this.emitClientResponseEvent(t),!(t.finalHttpStatusCode>=200&&t.finalHttpStatusCode<300)){if([401,403].includes(t.finalHttpStatusCode))throw r=401===t.finalHttpStatusCode?"Unauthorized":"InvalidCsrfTokenError",this.dataParser.triggerLoggedOutDialog(),this.cookieObserver.getCookieListener().forEach((function(e){return e()})),this.loggedOutMessage="".concat(r,": Session is invalid"),new c.RefreshCredentialError(this.loggedOutMessage);a=void 0;try{a=JSON.parse(t.data.toString()).error}catch(e){a="HTTP status code ".concat(t.finalHttpStatusCode)}throw new c.RefreshCredentialError(a)}return this.validate(t.data),[2,i=t.data]}}))}))},e.prototype.validate=function(e){for(var t=0,n=["accessKeyId","secretAccessKey","sessionToken"];t<n.length;t++){var r=n[t];if(!e[r])throw new c.InvalidCredentialsError('Invalid credentials, missing property: "'.concat(r,'"'))}},e.prototype.addLogoutListener=function(e){this.cookieObserver.addChangeListener(e)},e.prototype.emitClientErrorEvent=function(e){var t,n={attemptCount:e.metadata.retries,latencyMillseconds:e.metadata.latencyMillseconds,maxRetriesExceeded:e.metadata.maxRetriesExceeded,startTimestamp:e.metadata.startTimestamp,finalSdkException:e.metadata.code,finalSdkExceptionMessage:e.message,operation:"RefreshCredentials",service:"TangerineBox",region:""};null===(t=this.eventTracker)||void 0===t||t.addAwsSdkEvent(n)},e.prototype.emitClientResponseEvent=function(e){var t,n={attemptCount:e.retries,finalHttpStatusCode:e.finalHttpStatusCode,latencyMillseconds:e.latencyMillseconds,maxRetriesExceeded:e.maxRetriesExceeded,startTimestamp:e.startTimestamp,operation:"RefreshCredentials",service:"TangerineBox",region:""};e.finalHttpStatusCode>=400&&(n=r({finalSdkException:"RequestFailed",finalSdkExceptionMessage:"Request failed with status code ".concat(e.finalHttpStatusCode),finalHttpStatusCode:e.finalHttpStatusCode},n)),null===(t=this.eventTracker)||void 0===t||t.addAwsSdkEvent(n)},e}();t.BrowserCredentials=f},35779:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetaDataProvider=void 0;var o=n(45869),i=function(){function e(e){this.dataParser=e}return e.getInstance=function(){return this.metaDataProviderInstance||(this.metaDataProviderInstance=new e(o.DataParser.getInstance())),this.metaDataProviderInstance},e.prototype.getCdnUrl=function(e){return/^(http|https|ws|wss):\/\//.test(e)?e:"".concat(this.dataParser.getMetaTagContent().cdn).concat(e)},e.prototype.getCustomContext=function(e){return this.dataParser.getMetaTagContent().custom[e]},e.prototype.getAssetUrl=function(e,t){var n=this.getCustomContext(e)+"/".concat(t);return this.getCdnUrl(n)},e.prototype.getConsoleTelemetryToken=function(){return this.dataParser.getTelemetryMetaTagContent().telemetryToken},e.prototype.getSessionARN=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionARN")]}))}))},e.prototype.getAccountId=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("accountId")]}))}))},e.prototype.getIdentityToken=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("identityToken")]}))}))},e.prototype.getSessionId=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionId")]}))}))},e.prototype.getInfrastructureRegion=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("infrastructureRegion")]}))}))},e.prototype.getVpc=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("vpc")]}))}))},e.prototype.getAccountAlias=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("accountAlias")]}))}))},e.prototype.getDisplayName=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("displayName")]}))}))},e.prototype.getSessionDifferentiator=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionDifferentiator")]}))}))},e}();t.MetaDataProvider=i},28510:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CookieObserver=void 0;var r=n(45869),a=function(){function e(e,t,n){void 0===t&&(t=5e3),this.cookieName=e,this.listeners=[],this.dataParser=null!=n?n:r.DataParser.getInstance(),this.lastSeenCookieValue=this.dataParser.parseCookie(e),setInterval(this.poll.bind(this),t)}return e.prototype.addChangeListener=function(e){this.listeners.push(e)},e.prototype.poll=function(){var e=this.dataParser.parseCookie(this.cookieName);this.lastSeenCookieValue!==e&&this.getCookieListener().forEach((function(e){return e()})),this.lastSeenCookieValue=e},e.prototype.getCookieListener=function(){return this.listeners},e}();t.CookieObserver=a},45869:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataParser=void 0;var o=n(88402),i=n(2227),s=function(){function e(e){this.windowWithTelemetryBroker=this.findWindowWithTelemetryBroker(),this.metaTagContentCache=e,this.sessionDataCache=this.parseSessionDataMetaTag(this.windowWithTelemetryBroker)}return e.getInstance=function(t){return this.metaDataProviderInstance||(this.metaDataProviderInstance=new e(t)),this.metaDataProviderInstance},e.prototype.getTelemetryBrokerWindow=function(){return this.windowWithTelemetryBroker},e.prototype.getMetaTagContent=function(){return this.metaTagContentCache||(this.metaTagContentCache=this.parseTangerineBoxMetaTag()),this.metaTagContentCache},e.prototype.getTelemetryMetaTagContent=function(){return this.telemetryMetaTagContentCache||(this.telemetryMetaTagContentCache=this.parseTangerineBoxTelemetryMetaTag()),this.telemetryMetaTagContentCache},e.prototype.getCredentialsConfig=function(){return{browserCredsFullPath:this.getMetaTagContent().browserCredsFullPath,csrfToken:this.getMetaTagContent().csrfToken}},e.prototype.parseTangerineBoxMetaTag=function(){var e=this.parseMetaTag("tb-data");if(!e)throw new o.MetaTagParsingError("TangerineBox meta tag not found");try{return JSON.parse(e)}catch(e){throw new o.MetaTagParsingError("Unable to parse TangerineBox meta tag contents",e instanceof Error?e:new Error(String(e)))}},e.prototype.parseTangerineBoxTelemetryMetaTag=function(){var e=this.parseMetaTag("tbt-data");if(!e)throw new o.MetaTagParsingError("TangerineBox Telemetry meta tag not found");try{return JSON.parse(e)}catch(e){throw new o.MetaTagParsingError("Unable to parse TangerineBox Telemetry meta tag contents",e instanceof Error?e:new Error(String(e)))}},e.prototype.parseMetaTag=function(e,t){var n=(t?t.document:document).querySelector("meta[name='".concat(e,"']"));if(n)return n.content},e.prototype.parseCookie=function(e,t){void 0===t&&(t=document.cookie);var n=t.match("".concat(e,"=([^;]*)"));if(n&&n[1])return n[1]},e.prototype.triggerLoggedOutDialog=function(){var e=void 0!==this.parseMetaTag("awsc-widget-nav")||void 0!==this.parseMetaTag("awsc-widget-next");"undefined"!=typeof window&&(e?window.dispatchEvent(this.createCustomEvent("auth-change-detected")):window.AWSC&&"function"==typeof window.AWSC.jQuery&&window.AWSC.jQuery(window.AWSC).trigger("auth-change-detected"))},e.prototype.createCustomEvent=function(e){if("undefined"!=typeof window&&"function"==typeof window.CustomEvent)return new CustomEvent(e);var t={bubbles:!1,cancelable:!1,detail:null},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},e.prototype.parseSessionDataMetaTag=function(e){var t=this.parseMetaTag("awsc-session-data",e);if(!t)throw new o.MetaTagParsingError("Session data meta tag not found");try{return JSON.parse(t)}catch(e){throw new o.MetaTagParsingError("Unable to parse session data meta tag content",e instanceof Error?e:new Error(String(e)))}},e.prototype.getSessionDataValue=function(e){return r(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.sessionDataCache[e]]}))}))},e.prototype.getLogoutDetectionCookieName=function(){if(this.isPrismModeEnabled()){if(!this.sessionDataCache.sessionDifferentiator)throw new o.MetaTagParsingError("sessionDifferentiator is not found in prism mode");return e=this.sessionDataCache.sessionDifferentiator,"".concat("__Secure-aws-session-id","-").concat(e)}var e;return"aws-userInfo"},e.prototype.isPrismModeEnabled=function(){var e=this.getMetaTagContent().prismModeEnabled;return"boolean"==typeof e?e:!!this.sessionDataCache.prismModeEnabled},e.prototype.findWindowWithTelemetryBroker=function(){for(var e=window;;){if(e[i.TELEMETRY_BROKER_PROPERTY_NAME])return e;if(e===e.parent)return;e=e.parent}},e}();t.DataParser=s},47470:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.MAX_RETRIES=void 0;var i=n(88402);t.MAX_RETRIES=4;var s=function(){function e(e){this.jsonReplacer=e}return e.prototype.call=function(e){var n,r,s;return a(this,void 0,void 0,(function(){var a,u,c,l;return o(this,(function(o){switch(o.label){case 0:a=new Date,u=0,o.label=1;case 1:if(!(u<=(null!==(n=e.maxRetries)&&void 0!==n?n:t.MAX_RETRIES)))return[3,6];u&&function(e){Math.random(),Math.min(10,Math.pow(2,e))}(u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.callWithFetch(e,u)];case 3:return c=o.sent(),(d=c.status)>=500||429===d?[3,5]:[2,{finalHttpStatusCode:c.status,data:c.data,retries:u,startTimestamp:a,latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!1}];case 4:if(l=o.sent(),u>=(null!==(r=e.maxRetries)&&void 0!==r?r:t.MAX_RETRIES)&&l instanceof Error)throw new i.TerminalRequestError(l.message,{finalHttpStatusCode:500,retries:u,code:l.metadata.code,startTimestamp:a,latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!0});return[3,5];case 5:return u++,[3,1];case 6:throw new i.TerminalRequestError("Too many retries",{finalHttpStatusCode:500,retries:null!==(s=e.maxRetries)&&void 0!==s?s:t.MAX_RETRIES,startTimestamp:a,code:"MaxRetriesExceeded",latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!0})}var d}))}))},e.prototype.callWithFetch=function(e,t){var n;return a(this,void 0,void 0,(function(){var a,s,u,c,l;return o(this,(function(o){switch(o.label){case 0:a={method:e.method,headers:r({"X-Retries":"".concat(t)},e.headers),keepalive:!0},void 0!==e.timeout&&e.timeout>0&&(s=new AbortController,setTimeout((function(){return s.abort()}),e.timeout+t*(e.timeoutIncreasePerRetry||0)),a.signal=s.signal),"GET"!==e.method.toUpperCase()&&(a.body=this.createBody(e)),o.label=1;case 1:return o.trys.push([1,7,,8]),[4,fetch(e.url,a)];case 2:return u=o.sent(),(c=null===(n=null==u?void 0:u.headers)||void 0===n?void 0:n.get("Content-Type"))&&/application\/json/.test(c)?[4,u.json()]:[3,4];case 3:return[2,{data:o.sent(),retries:t,status:u.status}];case 4:return[4,u.text()];case 5:return[2,{data:o.sent(),retries:t,status:u.status}];case 6:return[3,8];case 7:throw(l=o.sent())instanceof Error&&"AbortError"===l.name?new i.FailureRequestError("Request timeout",{code:"RequestTimeout",finalHttpStatusCode:500,retries:t}):new i.FailureRequestError("Request encountered an error",{code:"RequestFailed",finalHttpStatusCode:500,retries:t});case 8:return[2]}}))}))},e.prototype.createBody=function(e){var t=e.data;return t?"string"==typeof t?t:"object"==typeof t?JSON.stringify(t,this.jsonReplacer):String(t):null},e}();t.HttpClient=s},88402:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshCredentialError=t.InvalidCredentialsError=t.MetaTagParsingError=t.TelemetryBrokerNotAvailableError=t.FailureRequestError=t.TerminalRequestError=t.TangerineBoxError=void 0;var a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.originalError=n,r.name=r.constructor.name,n&&(r.stack+="\nCaused by: "+n.stack),r}return r(t,e),t}(Error);t.TangerineBoxError=a;var o=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.metadata=n,r}return r(t,e),t}(a);t.TerminalRequestError=o;var i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.metadata=n,r}return r(t,e),t}(a);t.FailureRequestError=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.TelemetryBrokerNotAvailableError=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.MetaTagParsingError=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.InvalidCredentialsError=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.RefreshCredentialError=l},63391:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BrokerWrapper=void 0;var r=n(2227),a=function(){function e(e){this.telemetryBroker=e[r.TELEMETRY_BROKER_PROPERTY_NAME]}return e.prototype.register=function(e){return this.telemetryBroker.register(e)},e.prototype.addEvent=function(e){this.telemetryBroker.addEvent(e)},e.prototype.dangerouslyFlushEvents=function(){this.telemetryBroker.dangerouslyFlushEvents()},e}();t.BrokerWrapper=a},61343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="2.0.4779.0#69fdf0b5"},87932:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduledEventTracker=void 0;var a=n(45869),o=n(63391),i=n(61343),s=n(88402),u=function(){function e(e,t){this.props=e,this.id=this.props.broker.register({source:"weblib-v2",telemetryToken:t.token,parentTelemetryToken:t.parentToken})}return e.getInstance=function(t){var n=null!=t?t:{token:a.DataParser.getInstance().getTelemetryMetaTagContent().telemetryToken},r=a.DataParser.getInstance().getTelemetryBrokerWindow();if(void 0===r)throw new s.TelemetryBrokerNotAvailableError("Telemetry broker not found");return new e({broker:new o.BrokerWrapper(r)},n)},e.prototype.addEvent=function(e,t){var n={type:"log",content:e,version:i.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:n},t))},e.prototype.addError=function(e,t,n){var a={type:"error",content:r({error:e},t),version:i.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addAwsSdkEvent=function(e,t){var n={type:"aws-sdk-metric",awsSdkMetric:e,content:{},version:i.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:n},t))},e.prototype.addFmsEvaluationEvent=function(e,t,n){var a={type:"fms-evaluation",fmsEvaluation:e,content:null!=t?t:{},version:i.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addAwsArachnidQueryEvent=function(e,t,n){var a={type:"aws-arachnid-query",awsArachnidQuery:e,content:null!=t?t:{},version:i.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addLotusMetadataEvent=function(e,t,n){var a={type:"lotus-metadata",lotusMetadata:e,content:null!=t?t:{},version:i.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.dangerouslyFlushEvents=function(){this.props.broker.dangerouslyFlushEvents()},e}();t.ScheduledEventTracker=u},20478:(e,t,n)=>{t.Qj=t.sg=t.Yp=void 0;var r=n(49897);Object.defineProperty(t,"Yp",{enumerable:!0,get:function(){return r.TangerineBoxEventTracker}});var a=n(21957);Object.defineProperty(t,"sg",{enumerable:!0,get:function(){return a.TangerineBoxCredentials}});var o=n(15785);Object.defineProperty(t,"Qj",{enumerable:!0,get:function(){return o.MetaDataProvider}})},21957:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TangerineBoxCredentials=void 0;var o=n(11550),i=n(15785),s=function(){function e(e){this.browserCredentials=e}return e.getInstance=function(){return this.tangerineBoxCredentialsInstance||(this.tangerineBoxCredentialsInstance=new e(i.BrowserCredentials.getInstance())),this.tangerineBoxCredentialsInstance},e.prototype.getTangerineBoxCredentials=function(){var e=this;return function(){return e.fetchCredentials()}},e.prototype.fetchCredentials=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return{expiration:new Date(0),accessKeyId:"",secretAccessKey:"",sessionToken:""},[4,this.browserCredentials.getCredentials().then((function(e){return{expiration:new Date(e.expiration),accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,sessionToken:e.sessionToken}})).catch((function(e){throw new o.SdkError(e.message,"TangerineBoxCredentialsProviderFailure")}))];case 1:return[2,e.sent()]}}))}))},e}();t.TangerineBoxCredentials=s},11550:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SdkError=void 0;var a=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.message=t,a.code=n,a.originalError=r,a.name=a.constructor.name,r&&(a.stack+="\nCaused by: "+r.stack),a}return r(t,e),t}(Error);t.SdkError=a},49897:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpTracker=t.TangerineBoxEventTracker=void 0;var i=n(59082),s=n(15785),u=function(){function e(e){this.scheduledEventTracker=e}return e.getInstance=function(t){try{return new e(s.ScheduledEventTracker.getInstance(t))}catch(e){return console.error("[TangerineBox] Telemetry configuration is missing. Error: ".concat(e)),new c}},e.prototype.addEvent=function(e,t){this.scheduledEventTracker.addEvent(e,t)},e.prototype.addError=function(e,t,n){this.scheduledEventTracker.addError(e,t,n)},e.prototype.emitAwsSdkMetrics=function(e,t){var n,s,u,c=this,l=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()};e.middlewareStack.add((function(d,f){return function(p){return a(c,void 0,void 0,(function(){var a,c,h,v,y,g,m,w,b,E,T;return o(this,(function(o){switch(o.label){case 0:return a=f.commandName.replace(/Command$/,""),c=f.clientName.replace(/Client$/,""),[4,e.config.retryStrategy()];case 1:return h=o.sent(),[4,e.config.maxAttempts()];case 2:return v=o.sent(),h instanceof i.StandardRetryStrategy?"number"!=typeof h.maxAttempts?[3,3]:(y=h.maxAttempts,[3,5]):[3,6];case 3:return[4,h.maxAttempts()];case 4:y=o.sent(),o.label=5;case 5:return v=y,[3,8];case 6:return h instanceof i.AdaptiveRetryStrategy?[4,h.maxAttemptsProvider()]:[3,8];case 7:v=o.sent(),o.label=8;case 8:return[4,e.config.region()];case 9:s=o.sent(),n=l(),u=Date.now(),o.label=10;case 10:return o.trys.push([10,12,,13]),[4,d(p)];case 11:return g=o.sent(),T=r(r({},this.parseSdkMetadata(g.output.$metadata,v)),{latencyMillseconds:Math.max(0,Math.round(l()-n)),operation:a,service:c,region:s,startTimestamp:new Date(u),finalSdkException:void 0,finalAwsException:void 0}),this.scheduledEventTracker.addAwsSdkEvent(T,t),[2,g];case 12:throw m=o.sent(),w=this.parseSdkMetadata(m.$metadata,v),C=m,b=Boolean(C instanceof Error&&C.$fault&&C.$metadata),E=b?void 0:m.message,T=r(r({},w),{latencyMillseconds:Math.max(0,Math.round(l()-n)),operation:a,service:c,region:s,startTimestamp:new Date(u),finalSdkException:b&&"client"===m.$fault?m.name:E,finalAwsException:b&&"server"===m.$fault?m.name:void 0}),this.scheduledEventTracker.addAwsSdkEvent(T,t),m;case 13:return[2]}var C}))}))}}),{step:"serialize",name:"TangerineBoxSDKRequestMetric"})},e.prototype.parseSdkMetadata=function(e,t){var n,r,a;return e?{attemptCount:null!==(n=e.attempts)&&void 0!==n?n:0,finalHttpStatusCode:e.httpStatusCode,maxRetriesExceeded:t<=(null!==(r=e.attempts)&&void 0!==r?r:0),finalRequestId:null!==(a=e.requestId)&&void 0!==a?a:void 0}:{attemptCount:0,finalHttpStatusCode:void 0,maxRetriesExceeded:!0,finalRequestId:void 0}},e}();t.TangerineBoxEventTracker=u;var c=function(){function e(){}return e.prototype.addEvent=function(e,t){},e.prototype.addError=function(e,t,n){},e.prototype.emitAwsSdkMetrics=function(e,t){},e}();t.NoOpTracker=c}}]);